(this.webpackJsonpcd=this.webpackJsonpcd||[]).push([[0],{12:function(e){e.exports=JSON.parse('[{"id":1,"issuer":"visa","bank":"chase","cardName":"Chase Sapphire Preferred","image":"sapphire-preferred.png","cardDetails":{"annualFee":95,"signupBonus":{"amount":60000,"neededSpend":4000,"type":"points","time":3},"pointType":"chaseUltimateRewards","pointValue":0.02,"cashBackCategories":[{"category":"dining","limit":null,"period":null,"timeUntil":null,"points":2},{"category":"travel","limit":null,"period":null,"timeUntil":null,"points":2},{"category":"groceries","limit":1000,"period":1,"timeUntil":"4/30/21","points":2},{"category":"other","limit":null,"period":null,"timeUntil":null,"points":1}]}},{"id":2,"issuer":"masterCard","bank":"chase","cardName":"Chase Freedom Unlimited","image":"freedom-unlimited.png","cardDetails":{"annualFee":0,"signupBonus":{"amount":20000,"neededSpend":500,"type":"points","time":3},"pointType":"chaseUltimateRewards","pointValue":0.02,"cashBackCategories":[{"category":"dining","limit":null,"period":null,"timeUntil":null,"points":3},{"category":"drugstore","limit":null,"period":null,"timeUntil":null,"points":3},{"category":"groceries","limit":12000,"period":null,"timeUntil":12,"points":5},{"category":"other","limit":null,"period":null,"timeUntil":null,"points":1.5}]}},{"id":3,"issuer":"visa","bank":"chase","cardName":"Chase Freedom Flex","image":"freedom-unlimited.png","cardDetails":{"annualFee":0,"signupBonus":{"amount":20000,"neededSpend":500,"type":"points","time":3},"pointType":"chaseUltimateRewards","pointValue":0.02,"cashBackCategories":[{"category":"dining","limit":null,"period":null,"timeUntil":null,"points":3},{"category":"drugstore","limit":null,"period":null,"timeUntil":null,"points":3},{"category":"groceries","limit":12000,"period":null,"timeUntil":12,"points":5},{"category":"other","limit":null,"period":null,"timeUntil":null,"points":1}]}},{"id":4,"issuer":"visa","bank":"chase","cardName":"Chase Sapphire Reserve","image":"sapphire-reserve.png","cardDetails":{"annualFee":550,"signupBonus":{"amount":50000,"neededSpend":4000,"type":"points","time":3},"pointType":"chaseUltimateRewards","pointValue":0.02,"cashBackCategories":[{"category":"dining","limit":null,"period":null,"timeUntil":null,"points":3},{"category":"groceries","limit":1000,"period":1,"timeUntil":"4/30/21","points":3},{"category":"travel","limit":null,"period":null,"timeUntil":null,"points":3},{"category":"other","limit":null,"period":null,"timeUntil":null,"points":1}]}},{"id":5,"issuer":"amex","bank":"amex","cardName":"American Express Platinum Card","image":"platinum-card.png","cardDetails":{"annualFee":550,"signupBonus":{"amount":75000,"neededSpend":5000,"type":"points","time":3},"pointType":"membershipRewards","pointValue":0.02,"cashBackCategories":[{"category":"travel","limit":500000,"period":null,"timeUntil":null,"points":5},{"category":"other","limit":null,"period":null,"timeUntil":null,"points":1}]}},{"id":6,"issuer":"amex","bank":"amex","cardName":"American Express Gold Card","image":"gold-card.png","cardDetails":{"annualFee":250,"signupBonus":{"amount":60000,"neededSpend":4000,"type":"points","time":6},"pointType":"membershipRewards","pointValue":0.02,"cashBackCategories":[{"category":"dining","limit":null,"period":null,"timeUntil":null,"points":4},{"category":"groceries","limit":25000,"period":null,"timeUntil":12,"points":4},{"category":"travel","limit":null,"period":null,"timeUntil":null,"points":3},{"category":"other","limit":null,"period":null,"timeUntil":null,"points":1}]}},{"id":7,"issuer":"amex","bank":"amex","cardName":"American Express Green Card","image":"green-card.png","cardDetails":{"annualFee":150,"signupBonus":{"amount":45000,"neededSpend":2000,"type":"points","time":6},"pointType":"membershipRewards","pointValue":0.02,"cashBackCategories":[{"category":"dining","limit":null,"period":null,"timeUntil":null,"points":3},{"category":"travel","limit":null,"period":null,"timeUntil":null,"points":3},{"category":"other","limit":null,"period":null,"timeUntil":null,"points":1}]}},{"id":8,"issuer":"amex","bank":"amex","cardName":"American Express Blue Cash Preferred","image":"blue-cash-preferred.png","cardDetails":{"annualFee":95,"signupBonus":{"amount":300,"neededSpend":1000,"type":"dollars","time":3},"pointType":"membershipRewards","pointValue":0.02,"cashBackCategories":[{"category":"streaming","limit":null,"period":null,"timeUntil":null,"points":6},{"category":"transit","limit":null,"period":null,"timeUntil":null,"points":3},{"category":"gas","limit":null,"period":null,"timeUntil":null,"points":3},{"category":"groceries","limit":6000,"period":null,"timeUntil":12,"points":6},{"category":"other","limit":null,"period":null,"timeUntil":null,"points":1}]}},{"id":9,"issuer":"amex","bank":"amex","cardName":"American Express Blue Cash Everyday","image":"blue-cash-everyday.png","cardDetails":{"annualFee":0,"signupBonus":{"amount":300,"neededSpend":1000,"type":"dollars","time":3},"pointType":"membershipRewards","pointValue":0.02,"cashBackCategories":[{"category":"gas","limit":null,"period":null,"timeUntil":null,"points":2},{"category":"groceries","limit":6000,"period":null,"timeUntil":12,"points":3},{"category":"other","limit":null,"period":null,"timeUntil":null,"points":1}]}}]')},19:function(e,t,a){},25:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),r=a(4),l=a.n(r),i=a(3),c=a(6),o=a(2),d=(a(19),function(e){var t=e.icon,a=e.category,s=e.val;return Object(n.jsxs)("div",{className:"flex items-center space-x-4 w-full",children:[Object(n.jsx)("img",{className:"w-4 h-4",src:"".concat(t),alt:""}),Object(n.jsxs)("div",{className:"flex justify-between items-center w-full space-x-6",children:[Object(n.jsx)("p",{className:"flex items-center text-sm",children:a}),Object(n.jsx)("div",{className:"font-bold text-lg text-blue-500",children:s})]})]})}),u=function(e){var t=e.card,a=e.selectedVals,s=e.categoryToIcon;return Object(n.jsxs)("div",{className:"bg-white rounded-xl p-6 m-4 space-y-3 shadow-lg ".concat(0!=a.filter((function(e){return e===t.cardName})).length?"border-2 border-green-400":"border-2 border-white"),children:[Object(n.jsx)("div",{className:"relative flex justify-center border-b-2 border-gray-300 w-full text-center mb-4",children:Object(n.jsx)("p",{className:"font-sansserif text-lg font-semibold text-black",children:t.cardName})}),Object(n.jsxs)("div",{className:"flex items-start h-48 space-x-8",children:[Object(n.jsxs)("div",{className:"flex flex-none flex-col h-full justify-around",children:[Object(n.jsx)("img",{className:"w-52 h-32 mb-4",src:t.image,alt:""}),Object(n.jsxs)("p",{className:"flex items-center text-sm text-gray-400",children:["Welcome Bonus",Object(n.jsx)("span",{className:"ml-1 text-md font-md ml-1 text-black",children:"".concat("points"==t.cardDetails.signupBonus.type?"".concat(t.cardDetails.signupBonus.amount," points"):"$".concat(t.cardDetails.signupBonus.amount))})]}),Object(n.jsxs)("h1",{className:"flex items-center text-sm text-gray-400",children:["Anual Fee ",Object(n.jsx)("span",{className:"ml-1 text-md font-md ml-1 text-black",children:"$".concat(t.cardDetails.annualFee)})]})]}),Object(n.jsxs)("div",{className:"bg-gray-100 w-44 py-3 px-4 rounded-md h-full overflow-y-scroll",children:[Object(n.jsx)("p",{className:"border-b-2 border-gray-300 text-center text-black-100 text-sm font-bold mb-2",children:"Bonus Categories"}),t.cardDetails.cashBackCategories.map((function(e,t){return Object(n.jsx)(d,{icon:s[e.category],category:e.category,val:"".concat(e.points,"X")},t)}))]})]})]})};function m(e){var t=e.category,a=e.handleInputChange,s=e.inputValues,r=e.img;return Object(n.jsxs)("div",{className:"flex flex-col mt-8 space-y-1",children:[Object(n.jsxs)("div",{className:"flex justify-between",children:[Object(n.jsx)("div",{className:"capitalize text-sm text-gray-400",children:t}),Object(n.jsx)("div",{className:"capitalize text-sm text-gray-400",children:"Weekly Spend"})]}),Object(n.jsxs)("div",{className:"flex items-center h-9",children:[Object(n.jsx)("div",{className:"flex-none font-semibold w-10 h-full flex justify-center items-center border-l border-t border-b border-gray-200 rounded-l-md",children:Object(n.jsx)("img",{className:"p-3",src:r})}),Object(n.jsx)("input",{className:"font-extraslim px-2 py-1 border h-full flex focus:outline-none focus:border-blue-200 text-sm",type:"text",placeholder:"Amount",onChange:function(e){Number.isInteger(+e.target.value)&&a(+e.target.value,t)},value:s[t]}),Object(n.jsx)("div",{className:"flex-none font-semibold w-10 h-full flex justify-center items-center bg-gray-100 border-r border-t border-b border-gray-200 rounded-r-md",children:".00"})]})]})}a(26);var f=a(5);function p(e){var t=e.name,a=e.handleClose;return Object(n.jsxs)("div",{className:"flex border rounded-xl px-2 text-sm bg-gray-200 mt-1 ml-1 items-center space-x-2 relative",children:[Object(n.jsx)("div",{className:"",children:t}),Object(n.jsx)("button",{className:"focus:outline-none hover:bg-red-300 border rounded-sm",onClick:function(e){e.stopPropagation(),a(t)},children:Object(n.jsx)("img",{src:"x.svg",className:"h-4 w-4"})})]})}function x(e){var t=e.name,a=e.handleClick;return Object(n.jsx)("div",{className:"w-full rounded-xl p-2 hover:bg-blue-100",onClick:function(e){e.stopPropagation(),a(t)},children:t})}var b=function(e){var t=e.setDD,a=e.ddselected,s=e.cards,r=e.signupCards,l=e.setSignupCards,i=e.options,c=e.setOptions,d=e.error,u=e.setError,m=e.ref1,b=e.open,j=e.setOpen;s.map((function(e){return e.cardName})),i=i.sort();var h=function(e){var n=i.filter((function(t){return t!=e}));c(n),t([].concat(Object(f.a)(a),[e])),u((function(e){return Object(o.a)(Object(o.a)({},e),{},{dropDown:!1})}))},g=function(e){var n=a.filter((function(t){return t!=e})),s=r.filter((function(t){return t.cardName!=e}));l(s),t(n),c([e].concat(Object(f.a)(i)))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"width-full border rounded-xl p-2 flex justify-center items-center ".concat(b&&!d.dropDown&&"border-blue-300"," ").concat(d.dropDown&&"border-red-400"),onClick:function(){j((function(e){return!e}))},ref:m,children:[Object(n.jsx)("div",{className:"flex flex-wrap w-full border-r-2",children:0==a.length?d.dropDown?Object(n.jsx)("div",{className:"text-red-300",children:"Please select at least one card ..."}):Object(n.jsx)("div",{className:"text-gray-400",children:"Select ..."}):a.map((function(e,t){return Object(n.jsx)(p,{name:e,handleClose:g},t)}))}),Object(n.jsx)("img",{src:"arrow-right.svg",className:"h-6 w-6 p-1 transform rotate-90 ml-2"})]}),b&&Object(n.jsx)("div",{className:"border mt-2 rounded-xl",children:i.map((function(e,t){return Object(n.jsx)(x,{name:e,handleClick:h},t)}))})]})};function j(e){var t=e.handleInputChange,a=e.inputValues,s=e.categories,r=e.onSubmit,l=e.setDD,i=e.ddselected,d=e.cards,u=e.signupCards,f=e.setSignupCards,p=e.options,x=e.setOptions,j=e.error,h=e.setError,g=e.pointsValue,v=e.setPointsValue,y=e.ref1,O=e.open,N=e.setOpen,w=function(e,t){h((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(c.a)({},e,!1))})),v((function(a){return Object(o.a)(Object(o.a)({},a),{},Object(c.a)({},e,t))}))};return Object(n.jsxs)("div",{className:"flex flex-col",children:[Object(n.jsx)("div",{className:"flex font-light text-xl border-b-2 bg-white mb-8",children:"Select the cards that you currently own"}),Object(n.jsx)(b,{ref1:y,setDD:l,ddselected:i,cards:d,signupCards:u,setSignupCards:f,options:p,setOptions:x,error:j,setError:h,open:O,setOpen:N}),Object(n.jsxs)("div",{className:"flex justify-between border-b-2 mt-8 items-center",children:[Object(n.jsx)("div",{className:"flex font-light text-xl",children:"Spending Categories"}),Object(n.jsx)("div",{className:"flex font-light text-sm text-gray-400",children:"How much do you spend each Week?"})]}),Object(n.jsx)("div",{className:"flex flex-row items-center flex-wrap justify-between",children:s.map((function(e,s){return Object(n.jsx)(m,{category:e,handleInputChange:t,inputValues:a,img:"dollar-symbol.svg"},s)}))}),Object(n.jsxs)("div",{className:"flex justify-between border-b-2 mt-8 items-center",children:[Object(n.jsx)("div",{className:"flex font-light text-xl",children:"Reward Point Value"}),Object(n.jsx)("div",{className:"flex font-light text-sm text-gray-400",children:"How many cents do you thing each point is worth?"})]}),Object(n.jsxs)("div",{className:"flex justify-between",children:[Object(n.jsxs)("div",{className:"flex flex-col mt-8 space-y-1",children:[Object(n.jsxs)("div",{className:"flex justify-between",children:[Object(n.jsx)("div",{className:"capitalize text-sm text-gray-400",children:"ChaseUltimateRewards"}),Object(n.jsx)("div",{className:"capitalize text-sm text-gray-400",children:"value"})]}),Object(n.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(n.jsxs)("div",{className:"flex items-center h-9",children:[Object(n.jsx)("div",{className:"flex-none font-semibold w-10 h-full flex justify-center items-center border-l border-t border-b border-gray-200 rounded-l-md",children:Object(n.jsx)("img",{className:"p-3",src:"cash.svg"})}),Object(n.jsx)("input",{className:"font-extraslim px-2 py-1 border h-full flex focus:outline-none focus:border-blue-200 text-sm ".concat(j.chaseUltimateRewards&&"border-red-300 focus:border-red-300"),type:"text",placeholder:"amount",onChange:function(e){return w("chaseUltimateRewards",e.target.value)},value:g.chaseUltimateRewards}),Object(n.jsx)("div",{className:"flex-none font-semibold w-10 h-full flex justify-center items-center bg-gray-100 border-r border-t border-b border-gray-200 rounded-r-md",children:".00"})]}),j.chaseUltimateRewards&&Object(n.jsx)("div",{className:"text-sm font-extralight text-red-300",children:"Please input a valid number"})]})]}),Object(n.jsxs)("div",{className:"flex flex-col mt-8 space-y-1",children:[Object(n.jsxs)("div",{className:"flex justify-between",children:[Object(n.jsx)("div",{className:"capitalize text-sm text-gray-400",children:"MembershipRewards"}),Object(n.jsx)("div",{className:"capitalize text-sm text-gray-400",children:"value"})]}),Object(n.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(n.jsxs)("div",{className:"flex items-center h-9",children:[Object(n.jsx)("div",{className:"flex-none font-semibold w-10 h-full flex justify-center items-center border-l border-t border-b border-gray-200 rounded-l-md",children:Object(n.jsx)("img",{className:"p-3",src:"cash.svg"})}),Object(n.jsx)("input",{className:"font-extraslim px-2 py-1 border h-full flex focus:outline-none focus:border-blue-200 text-sm ".concat(j.membershipRewards&&"border-red-300 focus:border-red-300"),type:"text",placeholder:"amount",onChange:function(e){return w("membershipRewards",e.target.value)},value:g.membershipRewards}),Object(n.jsx)("div",{className:"flex-none font-semibold w-10 h-full flex justify-center items-center bg-gray-100 border-r border-t border-b border-gray-200 rounded-r-md",children:".00"})]}),j.membershipRewards&&Object(n.jsx)("div",{className:"text-sm font-extralight text-red-300",children:"Please input a valid number"})]})]})]}),Object(n.jsx)("div",{className:"flex justify-center",children:Object(n.jsx)("button",{className:"bg-gray-100 rounded-full focus:outline-none border focus:border-red-300 hover:bg-green-300 mt-8",onClick:function(e){r()},children:Object(n.jsx)("img",{src:"arrow-right.svg",className:"h-10 w-10 p-1"})})})]})}var h=a(12),g=function(e,t,a,n,s,r){e.cards.push({name:t,spend:a,pointsCollected:a*n,cashBack:s*a,pointType:r,valueBack:s})},v=function(e,t){for(var a=new Date,n=N(a,t),s=0;a<n;)s++,a.setDate(a.getDate()+7);return e*s},y=function(e,t,a){for(var n=new Array(t+1),s=0;s<n.length;s++)n[s]=new Array(a+1);for(var r=0;r<e.length;r++)for(var l=0;l<n[0].length;l++)l<e[0].length?n[r][l]=e[r][l]:n[r][l]=n[r][l-1];return n},O=function(e,t,a){var n=e.reduce((function(e,n){var s={};s.name=n.cardName,s.pointType=n.cardDetails.pointType;var r=n.cardDetails.cashBackCategories.filter((function(e){return e.category==t})),l=r.length>0?r[0]:n.cardDetails.cashBackCategories.filter((function(e){return"other"==e.category}))[0];return s.details={category:l.category,limit:l.limit,period:l.period,points:l.points,timeUntil:l.timeUntil},s.valueBack=s.details.points*a[s.pointType],e.push(s),e}),[]);return n.sort((function(e,t){return t.valueBack-e.valueBack})),n},N=function(e,t){var a=e.getDate(),n=new Date(e);return n.setMonth(n.getMonth()+ +t),n.getDate()!=a&&n.setDate(0),n};function w(e,t,a,n,s,r){for(var l=new Date,i=new Date,c=[],o=O(e,t,n),d=0,u=o[d],m=u,f=d,p=0,x=!1,b=0,j=0;j<52;j++){var h=a,v={};for(v.date=i.toLocaleDateString(),v.category=t,v.cards=[];h>0;){if(s.length>0)if(Object.keys(r.result).includes(i.toLocaleDateString()))if(Object.keys(r.result[i.toLocaleDateString()]).includes(t))if("continue"===function(){var e=r.result[i.toLocaleDateString()][t],a=o.filter((function(t){return t.name==e.name}))[0];return g(v,e.name,e.spend,a.details.points,a.valueBack,a.pointType),h-=e.spend,"continue"}())continue;for(d>=o.length&&(u=(o=O(e,"other",n))[d=0]);0==u.details.limit;)u=++d>=o.length?(o=O(e,"other",n))[d=0]:o[d];if(x&&0!=b&&b%(4*m.details.period)==0&&(d=f,(u=m).details.limit=p,b=0),null==u.details.limit)if(null==u.details.timeUntil)null==u.details.period&&(g(v,u.name,h,u.details.points,u.valueBack,u.pointType),h-=h);else if("number"==typeof u.details.timeUntil)i>=N(l,u.details.timeUntil)?u=o[++d]:(g(v,u.name,h,u.details.points,u.valueBack,u.pointType),h-=h);else{var y=new Date(u.details.timeUntil);i>=y?u=o[++d]:(g(v,u.name,h,u.details.points,u.valueBack,u.pointType),h-=h)}else if(null==u.details.timeUntil)u.details.limit>=h?(g(v,u.name,h,u.details.points,u.valueBack,u.pointType),u.details.limit-=h,h-=h):(g(v,u.name,u.details.limit,u.details.points,u.valueBack,u.pointType),h-=u.details.limit,u.details.limit=0,u=o[++d]);else if(null==u.details.period)if("number"==typeof u.details.timeUntil)i>=N(l,u.details.timeUntil)?u=o[++d]:u.details.limit>=h?(g(v,u.name,h,u.details.points,u.valueBack,u.pointType),u.details.limit-=h,h-=h):(g(v,u.name,u.details.limit,u.details.points,u.valueBack,u.pointType),h-=u.details.limit,u.details.limit=0,u=o[++d]);else{var w=new Date(u.details.timeUntil);i>=w?u=o[++d]:u.details.limit>=h?(g(v,u.name,h,u.details.points,u.valueBack,u.pointType),u.details.limit-=h,h-=h):(g(v,u.name,u.details.limit,u.details.points,u.valueBack,u.pointType),h-=u.details.limit,u.details.limit=0,u=o[++d])}else if(x=!0,p=u.details.limit,m=u,f=d,"number"==typeof u.details.timeUntil)i>=N(l,u.details.timeUntil)?(u=o[++d],x=!1):b<4*u.details.period&&u.details.limit>=h?(g(v,u.name,h,u.details.points,u.valueBack,u.pointType),u.details.limit-=h,h-=h):(g(v,u.name,u.details.limit,u.details.points,u.valueBack,u.pointType),h-=u.details.limit,u.details.limit=0,u=o[++d]);else{var k=new Date(u.details.timeUntil);i>=k?(u=o[++d],x=!1):b<4*u.details.period&&u.details.limit>=h?(g(v,u.name,h,u.details.points,u.valueBack,u.pointType),u.details.limit-=h,h-=h):(g(v,u.name,u.details.limit,u.details.points,u.valueBack,u.pointType),h-=u.details.limit,u.details.limit=0,u=o[++d])}}x&&b++,c.push(v),i.setDate(i.getDate()+7)}return c}function k(e,t,a,n,s){for(var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=e.map((function(e){return{category:e,result:w(t,e,a[e],n,s,r)}})),i=l[0].result.reduce((function(e,t){var a={};return a.date=t.date,a.result=[],e.push(a),e}),[]),c=0;c<52;c++)for(var o=0;o<e.length;o++)i[c].result.push({category:l[o].result[c].category,cards:l[o].result[c].cards});return i}function B(e,t,a,n,s){var r=C(e,a,n,s).bonusHit,l=e.reduce((function(e,a){return a.result.forEach((function(a){a.cards.forEach((function(a){if(e.hasOwnProperty(a.name))e[a.name].spend+=a.spend,e[a.name].pointsCollected+=a.pointsCollected,e[a.name].cashBack+=a.cashBack;else{var n={};n.spend=a.spend,n.pointsCollected=a.pointsCollected,n.pointType=a.pointType,n.cashBack=a.cashBack,void 0!=r&&r.includes(a.name)?n.bonus=t.filter((function(e){return e.cardName==a.name}))[0].cardDetails.signupBonus.amount:n.bonus=0,e[a.name]=n}}))})),e}),{});return t.forEach((function(e){if(l.hasOwnProperty(e.cardName))l[e.cardName].totalValue=l[e.cardName].cashBack-e.cardDetails.annualFee,void 0!=r&&r.includes(e.cardName)&&("points"!=e.cardDetails.signupBonus.type?l[e.cardName].totalValue+=l[e.cardName].bonus:l[e.cardName].totalValue+=l[e.cardName].bonus*n[l[e.cardName].pointType]);else{var t={spend:0,pointsCollected:0,pointType:null,cashBack:0,bonus:0};t.totalValue=0-e.cardDetails.annualFee,l[e.cardName]=t}})),l}h.reduce((function(e,t){return t.cardDetails.cashBackCategories.filter((function(t){return!e.includes(t.category)})).forEach((function(t){e.push(t.category)})),e}),[]);function C(e,t,a,n){var s=e.reduce((function(e,t){return t.result.forEach((function(a){a.cards.forEach((function(n){if(0==e.filter((function(e){return e.valueBack===n.valueBack})).length){var s={};s.valueBack=n.valueBack,s.result=[],e.push(s)}e.filter((function(e){return e.valueBack===n.valueBack}))[0].result.push({date:t.date,category:a.category,valid:!0,spend:n})}))})),e}),[]);s.sort((function(e,t){return e.valueBack-t.valueBack}));var r=function(e,t,a){var n=e.reduce((function(e,t){if(0==e.length)e.push([t]);else{for(var a=0;a<e.length;a++)if(e[a][0].cardDetails.signupBonus.time==t.cardDetails.signupBonus.time){e[a].push(t);break}a==e.length&&e.push([t])}return e}),[]);n.sort((function(e,t){return e[0].cardDetails.signupBonus.time-t[0].cardDetails.signupBonus.time}));for(var s=n.reduce((function(e,t){return t.forEach((function(t){e.push(t)})),e}),[]),r=[[0]],l=0,i=0,c=0;c<n.length;c++){var o=n[c];l=Math.ceil(l+(v(t,o[0].cardDetails.signupBonus.time)-l)),r=y(r,i+o.length,l);for(var d=i+1;d<r.length;d++)for(var u=0;u<r[0].length;u++)0==d||0==u?r[d][u]=0:s[d-1].cardDetails.signupBonus.neededSpend>u?r[d][u]=r[d-1][u]:r[d][u]=Math.max(r[d-1][u],s[d-1].cardDetails.signupBonus.amount*a[s[d-1].cardDetails.pointType]+r[d-1][u-s[d-1].cardDetails.signupBonus.neededSpend]);i+=o.length}for(var m=[],f=i,p=l;r[f][p]==r[f][p-1];)p--;for(;0!=r[f][p];){var x=s[f-1].cardDetails.signupBonus.amount*a[s[f-1].cardDetails.pointType],b=s[f-1].cardDetails.signupBonus.neededSpend;p-b>=0&&r[f-1][p-b]==r[f][p]-x?(m.push(s[f-1]),f--,p-=b):f--}return m}(t,n,a).reduce((function(e,t){return e.push(t.cardName),e}),[]),l=t.reduce((function(e,t){return e[t.cardName]=[],e}),{});t.sort((function(e,t){return e.cardDetails.signupBonus.time-t.cardDetails.signupBonus.time})),t.forEach((function(e){if(r.includes(e.cardName))for(var t=e.cardDetails.signupBonus.neededSpend,a=N(new Date,e.cardDetails.signupBonus.time),n=0,i=0;t>0&&i<s.length;)n>=s[i].result.length||new Date(s[i].result[n].date)>=a?(n=0,i++):(s[i].result[n].valid&&(l[e.cardName].push({date:s[i].result[n].date,category:s[i].result[n].category,spend:s[i].result[n].spend.spend}),t-=s[i].result[n].spend.spend,s[i].result[n].valid=!1),n++);else l[e.cardName]=[]}));var i=Object.keys(l).reduce((function(e,t){return e.hasOwnProperty("bonusHit")||(e.bonusHit=[],e.result={}),0==l[t].length||e.bonusHit.push(t),e}),{});return Object.keys(l).forEach((function(e){l[e].forEach((function(t){i.result.hasOwnProperty(t.date)||(i.result[t.date]={}),i.result[t.date][t.category]={spend:t.spend,name:e}}))})),i}var D=function(e){var t=e.data;return Object(n.jsxs)("div",{className:"flex flex-row w-full px-2 border-b bg-white text-sm items-center",children:[Object(n.jsx)("div",{className:"flex justify-start w-1/4 text-sm font-extralight",children:t.category}),Object(n.jsx)("div",{className:"flex text-center flex-col w-1/4",children:0==t.cards.length?"-":t.cards.map((function(e){return Object(n.jsx)("div",{className:"truncate text-sm font-extralight",children:e.name})}))}),Object(n.jsx)("div",{className:"flex flex-col w-1/4",children:0==t.cards.length?Object(n.jsx)("div",{className:"flex justify-center",children:"-"}):t.cards.map((function(e){return Object(n.jsxs)("div",{className:"flex items-center justify-start ml-28 truncate font-extralight tracking-widest",children:[Object(n.jsx)("span",{className:"text-lg font-extralight",children:"$"}),e.spend.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")]})}))}),Object(n.jsx)("div",{className:"flex flex-col items-end w-1/4",children:0==t.cards.length?"-":t.cards.map((function(e){return Object(n.jsx)("div",{className:"flex items-center truncate font-extralight",children:e.pointsCollected})}))})]})},S=function(e){var t=e.data,a=e.index,r=Object(s.useState)(0==a||1==a),l=Object(i.a)(r,2),c=l[0],o=l[1],d=function(e,t){return e.result.reduce((function(e,a){return e+a.cards.reduce((function(e,a){return e+a[t]}),0)}),0)};return Object(n.jsxs)("div",{className:"flex flex-col w-full p-2 border-b-2 bg-white",children:[Object(n.jsxs)("div",{className:"flex mb-2 mt-2 items-center",children:[Object(n.jsxs)("div",{className:"w-1/4 flex flex-row items-center space-x-2",children:[Object(n.jsx)("img",{src:c?"minus.svg":"expand.svg",className:"flex justify-center items-center bg-gray-100 h-4 w-4 border rounded-md focus:outline-none",onClick:function(){o((function(e){return!e}))}}),Object(n.jsx)("div",{className:"flex justify-start text-sm",children:t.date})]}),Object(n.jsx)("div",{className:"w-1/4 text-sm flex justify-center",children:"Card"}),Object(n.jsx)("div",{className:"w-1/4 text-sm flex justify-center",children:"Spend"}),Object(n.jsx)("div",{className:"w-1/4 flex justify-end text-sm",children:"Points Earned"})]}),Object(n.jsxs)("div",{className:c?"block":"hidden",children:[t.result.map((function(e){return Object(n.jsx)(D,{data:e})})),Object(n.jsxs)("div",{className:"flex mt-2",children:[Object(n.jsx)("div",{className:"w-1/4"}),Object(n.jsx)("div",{className:"w-1/4 flex justify-center text-sm",children:"totals"}),Object(n.jsxs)("div",{className:"w-1/4 flex items-center justify-center truncate tracking-widest text-sm",children:[Object(n.jsx)("span",{className:"text-lg font-light",children:"$"}),d(t,"spend").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),Object(n.jsx)("div",{className:"w-1/4 flex items-center justify-end truncate tracking-widest text-sm",children:d(t,"pointsCollected")})]})]})]})},U=function(e){e.setSubmitted;var t=e.weeklyData;return Object(n.jsxs)("div",{className:"flex flex-col w-full h-screen border-l border-r shadow-xl rounded-lg p-4",children:[Object(n.jsx)("div",{className:"flex justify-center items-center p-4 font-light text-xl border-b-2 bg-white",children:"Weekly Spending Summary"}),Object(n.jsx)("div",{className:"flex flex-col overflow-y-scroll",children:t.map((function(e,t){return Object(n.jsx)(S,{data:e,index:t},t)}))})]})},T=a(13),V=a.n(T),R=function(e){var t=e.details,a=e.categoryToIcon,s=e.data,r=e.categories,l=function(e){return"".concat(Number(e).toFixed(0))},i=function(e,t){return e.reduce((function(e,a){return a.result.forEach((function(a){a.cards.forEach((function(n){t==n.pointType&&(e.hasOwnProperty(a.category)||(e[a.category]=0),e[a.category]+=n.pointsCollected)}))})),e}),{})}(s,t.pointType);return Object(n.jsx)("div",{className:"w-1/2",children:Object(n.jsxs)("div",{className:"flex flex-col items-center p-4 mx-2 border rounded-md space-y-2 shadow-md",children:[Object(n.jsx)("div",{className:"text-center text-md font-semi border-b-2 border-gray-300 mb-1 w-full py-1 capitalize",children:t.pointType}),Object(n.jsx)("div",{className:"w-full",children:r.map((function(e,t){return Object(n.jsxs)("div",{className:"flex items-center space-x-4 w-full",children:[Object(n.jsx)("img",{className:"w-4 h-4",src:a[e],alt:""}),Object(n.jsxs)("div",{className:"flex justify-between items-center w-full space-x-6",children:[Object(n.jsx)("p",{className:"flex items-center text-sm",children:e}),Object(n.jsx)(V.a,{className:"text-blue-500 font-light text-lg",value:i.hasOwnProperty(e)?i[e]:0,formatValue:l,duration:1e3},t)]})]})}))})]})})},E=function(e){var t=e.bgcolor,a=e.completed,s={display:"flex",justifyContent:"center",alignItems:"center",height:"inherit",width:"".concat(a,"%"),backgroundColor:t,borderRadius:"inherit",textAlign:"right"};return Object(n.jsx)("div",{style:{height:14,backgroundColor:"#e0e0de",borderRadius:4},children:Object(n.jsx)("div",{style:s})})},F=(a(25),function(e){var t=e.setSubmitted,a=e.categoryToIcon,s=e.data,r=e.categories,l=e.cards,i=e.values,c=e.allCards,o=e.spend,d=e.selectedVals,m=e.handleChange,p=e.setWeeklyData,x=e.signupCards,b=e.setSignupCards,j=e.options,h=e.setOptions,g=Object.keys(o).reduce((function(e,t){return e+o[t]}),0),v=function(e,t,a,n,s){var r=B(e,t,a,n,s);return t.reduce((function(e,t){return 0==Object.keys(e).length&&(e.totalCashBack=0,e.totalAnnualFee=0,e.netValue=0,e.totalSpend=0,e.totalBonuses=0),e.totalCashBack+=r[t.cardName].cashBack,e.totalAnnualFee+=t.cardDetails.annualFee,e.netValue+=r[t.cardName].totalValue,e.totalSpend+=r[t.cardName].spend,a.map((function(e){return e.cardName})).includes(t.cardName)&&(e.totalBonuses+=r[t.cardName].bonus),e}),{})}(s,l,x,i,g),y=B(s,l,x,i,g);console.log(y),console.log(v);var O=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),N=c.filter((function(e){return l.reduce((function(t,a){return t&&a.cardName!=e.cardName}),!0)})),w=[];return N.forEach((function(e){var t=l.reduce((function(e,t){return e.push(t),e}),[]);t.push(e);var a=C(k(r,t,o,i,[]),[].concat(Object(f.a)(x),[e]),i,g),n=k(r,t,o,i,[].concat(Object(f.a)(x),[e]),a),s=B(n,t,[].concat(Object(f.a)(x),[e]),i,g);console.log(s);var c=B(k(r,t,o,i,[]),t,[],i,g);w.push({name:e.cardName,spendingData:n,cardInfo:e,addedValueYearOne:s[e.cardName].totalValue,addedValueYearTwo:c[e.cardName].totalValue})})),Object(n.jsxs)("div",{className:"flex flex-col w-2/6 p-4 h-screen overflow-y-scroll",children:[Object(n.jsx)("div",{className:"flex flex-none bg-white flex-wrap",children:[{pointType:"membershipRewards"},{pointType:"chaseUltimateRewards"}].map((function(e,t){return Object(n.jsx)(R,{details:e,categoryToIcon:a,data:s,categories:r},t)}))}),Object(n.jsxs)("div",{className:"flex justify-between border-b-2 mt-8 mb-4 items-center",children:[Object(n.jsx)("div",{className:"flex font-light text-xl",children:"Card Spend Totals"}),Object(n.jsx)("div",{className:"flex font-light text-sm text-gray-400",children:"Totals from all card spend"})]}),Object(n.jsxs)("div",{className:"flex flex-row w-full",children:[Object(n.jsxs)("div",{className:"flex flex-col w-1/4 p-2 space-y-1",children:[Object(n.jsx)("div",{className:"flex justify-center text-xl font-extralight",children:"Total Value"}),Object(n.jsx)("div",{className:"flex justify-center text-green-400 text-md",children:"$".concat(O.format(v.netValue))})]}),Object(n.jsxs)("div",{className:"flex flex-col w-1/4 p-2 space-y-1",children:[Object(n.jsx)("div",{className:"flex justify-center text-xl font-extralight",children:"Spend"}),Object(n.jsx)("div",{className:"flex justify-center text-blue-400 text-md",children:"$".concat(O.format(v.totalSpend))})]}),Object(n.jsxs)("div",{className:"flex flex-col w-1/4 p-2 space-y-1",children:[Object(n.jsx)("div",{className:"flex justify-center text-xl font-extralight",children:"Cash Back"}),Object(n.jsx)("div",{className:"flex justify-center text-purple-400 text-md",children:"$".concat(O.format(v.totalCashBack))})]}),Object(n.jsxs)("div",{className:"flex flex-col w-1/4 p-2 space-y-1",children:[Object(n.jsx)("div",{className:"flex justify-center text-xl font-extralight",children:"Annual Fees"}),Object(n.jsx)("div",{className:"flex justify-center text-red-400 text-md",children:"$".concat(O.format(v.totalAnnualFee))})]})]}),Object(n.jsxs)("div",{className:"flex justify-between border-b-2 mt-8 mb-4 items-center",children:[Object(n.jsx)("div",{className:"flex font-light text-xl",children:"Card Spend Statistics"}),Object(n.jsx)("div",{className:"flex font-light text-sm text-gray-400",children:"Try our following suggestions"})]}),Object(n.jsx)("div",{className:"flex flex-col p-2 space-y-3 mh-1/2 overflow-y-scroll flex-none",children:Object.keys(y).map((function(e){var t=l.filter((function(t){return t.cardName==e}))[0];return Object(n.jsxs)("div",{className:"flex flex-col bg-white border rounded-md p-2 space-y-1 shadow-md",children:[Object(n.jsx)("div",{className:"flex justify-center border-b my-1 font-extralight",children:e}),Object(n.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:["Cash Back",Object(n.jsx)("span",{className:"ml-2 text-md font-md mr-2 text-black",children:"$".concat(O.format(y[e].cashBack))})]}),Object(n.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:["Card Spend",Object(n.jsx)("span",{className:"ml-2 text-md font-md mr-2 text-black",children:"$".concat(O.format(y[e].spend))})]}),Object(n.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:["Points / Cash Collected",Object(n.jsx)("span",{className:"ml-2 text-md font-md mr-2 text-black",children:"".concat("dollars"===t.cardDetails.signupBonus.type?"$".concat(O.format(y[e].pointsCollected/100)):y[e].pointsCollected)})]}),Object(n.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:["Bonus Recieved",Object(n.jsx)("span",{className:"ml-2 text-md font-md mr-2 text-black",children:"".concat(y[e].bonus," / ").concat(t.cardDetails.signupBonus.amount)})]}),Object(n.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:["Total Value",Object(n.jsx)("span",{className:"ml-2 text-md font-md mr-2 text-black ".concat(y[e].totalValue>=0?"text-green-400":"text-red-400"),children:"$".concat(O.format(y[e].totalValue))})]}),Object(n.jsxs)("div",{className:"flex flex-col w-4/6 bg-gray-100 space-y-1 p-2 rounded-md",children:[Object(n.jsxs)("div",{className:"flex justify-between",children:[Object(n.jsx)("div",{className:"flex items-center text-sm text-gray-400",children:"Total Spend"}),Object(n.jsx)("div",{className:"text-md font-md text-blue-400",children:"".concat(O.format(y[e].spend/v.totalSpend*100),"%")})]}),Object(n.jsx)(E,{bgcolor:"#3c82f6",completed:y[e].spend/v.totalSpend*100,content:O.format(y[e].spend/v.totalSpend*100)})]}),Object(n.jsxs)("div",{className:"flex flex-col w-4/6 bg-gray-100 space-y-1 p-2 rounded-md",children:[Object(n.jsxs)("div",{className:"flex justify-between",children:[Object(n.jsx)("div",{className:"flex items-center text-sm text-gray-400",children:"Total Cash Back"}),Object(n.jsx)("div",{className:"text-md font-md text-purple-400",children:"".concat(O.format(y[e].cashBack/v.totalCashBack*100),"%")})]}),Object(n.jsx)(E,{bgcolor:"#a88cfa",completed:y[e].cashBack/v.totalCashBack*100})]})]})}))}),Object(n.jsxs)("div",{className:"flex justify-between border-b-2 mt-8 mb-4 items-center",children:[Object(n.jsx)("div",{className:"flex font-light text-xl",children:"Recommendations"}),Object(n.jsx)("div",{className:"flex font-light text-sm text-gray-400",children:"Try our following suggestions"})]}),Object(n.jsx)("div",{className:"overflow-y-scroll flex flex-col p-2 space-y-4 flex-none h-4/6",children:w.map((function(e,t){return Object(n.jsxs)("div",{className:"flex flex-col items-start bg-gray-100 border rounded-md",children:[Object(n.jsxs)("div",{className:"px-4 mt-2",children:[Object(n.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:["You can add",Object(n.jsx)("span",{className:"ml-2 text-md font-md mr-2 ".concat(e.addedValueYearOne>=0?"text-green-400":"text-red-400"),children:"$".concat(O.format(e.addedValueYearOne))})," of cash back the first Year you add this card"]}),Object(n.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:["You can add",Object(n.jsx)("span",{className:"ml-2 text-md font-md mr-2 ".concat(e.addedValueYearTwo>=0?"text-green-400":"text-red-400"),children:"$".concat(O.format(e.addedValueYearTwo))})," of cash back the second Year you add this card"]})]}),Object(n.jsxs)("div",{className:"relative",children:[Object(n.jsx)("button",{title:"add Card",className:"absolute w-8 h-8 bg-white border rounded-full hover:bg-green-200 right-0 shadow-lg",onClick:function(){h(j.filter((function(t){return t!=e.name}))),b([].concat(Object(f.a)(x),[e.cardInfo])),p(e.spendingData),m([].concat(Object(f.a)(d),[e.cardInfo.cardName]))},children:Object(n.jsx)("img",{src:"expand.svg"})}),Object(n.jsx)(u,{card:e.cardInfo,selectedVals:d,categoryToIcon:a},t)]})]})}))}),Object(n.jsx)("button",{className:"p-4 bg-green-400 mt-4",onClick:function(){t((function(e){return!e}))},children:"back"})]})});function I(e,t){var a=t,n=Object(s.useState)(JSON.parse(localStorage.getItem(a))||e),r=Object(i.a)(n,2),l=r[0],c=r[1];return Object(s.useEffect)((function(){console.log("setting value of ".concat(t)),localStorage.setItem(a,JSON.stringify(l))}),[l]),[l,c]}var P=function(){var e=a(12),t={dining:"serving-dish.svg",travel:"plane.svg",groceries:"shopping-cart.svg",other:"infinity.svg",gas:"gas.svg",flex:"flex.svg",drugstore:"drugstore.svg",streaming:"streaming.svg",transit:"train.svg"},r=e.reduce((function(e,t){return t.cardDetails.cashBackCategories.filter((function(t){return!e.includes(t.category)})).forEach((function(t){e.push(t.category)})),e}),[]),l=function(e){return Object.keys(e).reduce((function(t,a){return t[a]=+e[a],t}),{})},d=function(t){var a=e.filter((function(e){return t.includes(e.cardName)}));P(t),T(a)},m=I((function(){return r.reduce((function(e,t){return e[t]="",e}),{})}),"inputValues"),f=Object(i.a)(m,2),p=f[0],x=f[1],b=I(!1,"submitted"),h=Object(i.a)(b,2),g=h[0],v=h[1],y=I([],"weeklyData"),O=Object(i.a)(y,2),N=O[0],w=O[1],B=I([],"cards"),D=Object(i.a)(B,2),S=D[0],T=D[1],V=I([],"ddSelected"),R=Object(i.a)(V,2),E=R[0],P=R[1],A=I([],"signupCards"),$=Object(i.a)(A,2),Y=$[0],z=$[1],H=I(0,"weelySpend"),L=Object(i.a)(H,2),W=(L[0],L[1],I((function(){return e.map((function(e){return e.cardName}))}),"options")),J=Object(i.a)(W,2),M=J[0],G=J[1],X=I({dropDown:!1,chaseUltimateRewards:!1,membershipRewards:!1},"errors"),q=Object(i.a)(X,2),K=q[0],Q=q[1],Z=I({chaseUltimateRewards:.015,membershipRewards:.0125},"pointsValue"),_=Object(i.a)(Z,2),ee=_[0],te=_[1],ae=Object(s.useState)(!1),ne=Object(i.a)(ae,2),se=ne[0],re=ne[1],le=Object(s.useRef)(),ie=Object(s.useRef)();return ie.current=se,Object(s.useEffect)((function(){function e(e){ie.current&&!function(e,t){if(e.target==t.current)return!0;for(var a=0;a<t.current.childNodes.length;a++)if(e.target==t.current.childNodes[a])return!0;return!1}(e,le)&&re(!1)}return window.addEventListener("click",e),function(){console.log("removing event listener"),window.removeEventListener("keyup",e)}}),[]),Object(n.jsx)("div",{className:"",children:Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)("div",{className:"w-4/6 h-screen flex flex-col",children:g?Object(n.jsx)("div",{className:"bg-gray-100",children:Object(n.jsx)(U,{setSubmitted:v,weeklyData:N})}):Object(n.jsx)("div",{className:"flex flex-wrap content-start border-l rounded-lg bg-gray-100 shadow-xl overflow-y-scroll px-14",children:e.map((function(e,a){return Object(n.jsx)(u,{card:e,selectedVals:E,categoryToIcon:t},a)}))})}),g?Object(n.jsx)(F,{setSubmitted:v,categoryToIcon:t,data:N,cards:S,values:l(ee),allCards:e,categories:r,spend:p,selectedVals:E,handleChange:d,setWeeklyData:w,signupCards:Y,setSignupCards:z,options:M,setOptions:G}):Object(n.jsx)("div",{className:"flex flex-col space-y-2 w-2/6 p-4 space-y-5 overflow-y-scroll h-screen",children:Object(n.jsx)(j,{ref1:le,handleInputChange:function(e,t){x((function(a){return Object(o.a)(Object(o.a)({},a),{},Object(c.a)({},t,+e))}))},inputValues:p,categories:r,onSubmit:function(){if(function(e){var t=!1;return 0==e.length&&(Q((function(e){return console.log("cards error"),Object(o.a)(Object(o.a)({},e),{},{dropDown:!0})})),t=!0),(""===ee.chaseUltimateRewards||isNaN(+ee.chaseUltimateRewards))&&(Q((function(e){return Object(o.a)(Object(o.a)({},e),{},{chaseUltimateRewards:!0})})),t=!0),(""===ee.membershipRewards||isNaN(+ee.membershipRewards))&&(Q((function(e){return Object(o.a)(Object(o.a)({},e),{},{membershipRewards:!0})})),t=!0),t}(S))console.log("foundErrors");else{var e=Object.keys(p).reduce((function(e,t){return e+p[t]}),0),t=l(ee);if(Y.length>0){var a=C(k(r,S,p,t,[]),Y,t,e);console.log(a);var n=k(r,S,p,t,Y,a);w(n)}else{var s=k(r,S,p,t,[]);w(s)}v(!0)}},setDD:d,ddselected:E,cards:e,signupCards:Y,setSignupCards:z,options:M,setOptions:G,error:K,setError:Q,pointsValue:ee,setPointsValue:te,open:se,setOpen:re})})]})})};l.a.render(Object(n.jsx)(P,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.88b9e099.chunk.js.map